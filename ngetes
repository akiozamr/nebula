local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

local unlimitedJump = false
local isMinimized = false
local lastPos = UDim2.new(0.5, -150, 0.1, 0)

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "VanylaHub"
screenGui.Parent = player:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 300, 0, 250)
mainFrame.Position = lastPos
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 10)
mainCorner.Parent = mainFrame

local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0, 30)
titleBar.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
titleBar.Parent = mainFrame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, -30, 1, 0)
title.Position = UDim2.new(0, 5, 0, 0)
title.BackgroundTransparency = 1
title.Text = "✨ VANYLA HUB"
title.TextSize = 14
title.Font = Enum.Font.GothamBold
title.TextColor3 = Color3.fromRGB(255, 0, 0)
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = titleBar

local minimizeBtn = Instance.new("TextButton")
minimizeBtn.Size = UDim2.new(0, 30, 1, 0)
minimizeBtn.Position = UDim2.new(1, -30, 0, 0)
minimizeBtn.Text = "−"
minimizeBtn.TextSize = 20
minimizeBtn.Font = Enum.Font.GothamBold
minimizeBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
minimizeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
minimizeBtn.Parent = titleBar

local minimizeCorner = Instance.new("UICorner")
minimizeCorner.CornerRadius = UDim.new(0, 6)
minimizeCorner.Parent = minimizeBtn

local contentFrame = Instance.new("Frame")
contentFrame.Size = UDim2.new(1, 0, 1, -30)
contentFrame.Position = UDim2.new(0, 0, 0, 30)
contentFrame.BackgroundTransparency = 1
contentFrame.Parent = mainFrame

local function rgbLoop(textLabel)
    coroutine.wrap(function()
        while task.wait() do
            TweenService:Create(textLabel, TweenInfo.new(2, Enum.EasingStyle.Linear), {TextColor3 = Color3.fromRGB(0,255,0)}):Play()
            task.wait(2)
            TweenService:Create(textLabel, TweenInfo.new(2, Enum.EasingStyle.Linear), {TextColor3 = Color3.fromRGB(0,0,255)}):Play()
            task.wait(2)
            TweenService:Create(textLabel, TweenInfo.new(2, Enum.EasingStyle.Linear), {TextColor3 = Color3.fromRGB(255,0,0)}):Play()
            task.wait(2)
        end
    end)()
end
rgbLoop(title)

local originalSize = mainFrame.Size
minimizeBtn.MouseButton1Click:Connect(function()
    isMinimized = not isMinimized
    if isMinimized then
        contentFrame.Visible = false
        mainFrame.Size = UDim2.new(0, 300, 0, 30)
        minimizeBtn.Text = "+"
    else
        contentFrame.Visible = true
        mainFrame.Size = originalSize
        minimizeBtn.Text = "−"
    end
end)

local wsBox = Instance.new("TextBox")
wsBox.Size = UDim2.new(0.6, -10, 0, 25)
wsBox.Position = UDim2.new(0, 10, 0, 10)
wsBox.PlaceholderText = "WalkSpeed"
wsBox.Text = tostring(humanoid.WalkSpeed)
wsBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
wsBox.TextColor3 = Color3.fromRGB(255, 255, 255)
wsBox.TextSize = 14
wsBox.Font = Enum.Font.Gotham
wsBox.Parent = contentFrame
Instance.new("UICorner", wsBox).CornerRadius = UDim.new(0, 6)

local wsBtn = Instance.new("TextButton")
wsBtn.Size = UDim2.new(0.35, 0, 0, 25)
wsBtn.Position = UDim2.new(0.65, -5, 0, 10)
wsBtn.Text = "Apply"
wsBtn.BackgroundColor3 = Color3.fromRGB(100, 150, 250)
wsBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
wsBtn.TextSize = 14
wsBtn.Font = Enum.Font.GothamBold
wsBtn.Parent = contentFrame
Instance.new("UICorner", wsBtn).CornerRadius = UDim.new(0, 6)

local jpBox = Instance.new("TextBox")
jpBox.Size = UDim2.new(0.6, -10, 0, 25)
jpBox.Position = UDim2.new(0, 10, 0, 45)
jpBox.PlaceholderText = "JumpPower"
jpBox.Text = tostring(humanoid.JumpPower)
jpBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
jpBox.TextColor3 = Color3.fromRGB(255, 255, 255)
jpBox.TextSize = 14
jpBox.Font = Enum.Font.Gotham
jpBox.Parent = contentFrame
Instance.new("UICorner", jpBox).CornerRadius = UDim.new(0, 6)

local jpBtn = Instance.new("TextButton")
jpBtn.Size = UDim2.new(0.35, 0, 0, 25)
jpBtn.Position = UDim2.new(0.65, -5, 0, 45)
jpBtn.Text = "Apply"
jpBtn.BackgroundColor3 = Color3.fromRGB(100, 200, 100)
jpBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
jpBtn.TextSize = 14
jpBtn.Font = Enum.Font.GothamBold
jpBtn.Parent = contentFrame
Instance.new("UICorner", jpBtn).CornerRadius = UDim.new(0, 6)

local ujBtn = Instance.new("TextButton")
ujBtn.Size = UDim2.new(0.9, 0, 0, 30)
ujBtn.Position = UDim2.new(0.05, 0, 0, 80)
ujBtn.Text = "Unlimited Jump: OFF"
ujBtn.BackgroundColor3 = Color3.fromRGB(200, 80, 80)
ujBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ujBtn.TextSize = 14
ujBtn.Font = Enum.Font.GothamBold
ujBtn.Parent = contentFrame
Instance.new("UICorner", ujBtn).CornerRadius = UDim.new(0, 8)

wsBtn.MouseButton1Click:Connect(function()
    local newSpeed = tonumber(wsBox.Text)
    if newSpeed and newSpeed > 0 then
        humanoid.WalkSpeed = newSpeed
    else
        wsBox.Text = tostring(humanoid.WalkSpeed)
    end
end)

jpBtn.MouseButton1Click:Connect(function()
    local newJump = tonumber(jpBox.Text)
    if newJump and newJump > 0 then
        humanoid.UseJumpPower = true
        humanoid.JumpPower = newJump
    else
        jpBox.Text = tostring(humanoid.JumpPower)
    end
end)

ujBtn.MouseButton1Click:Connect(function()
    unlimitedJump = not unlimitedJump
    if unlimitedJump then
        ujBtn.Text = "Unlimited Jump: ON"
        ujBtn.BackgroundColor3 = Color3.fromRGB(80, 200, 80)
    else
        ujBtn.Text = "Unlimited Jump: OFF"
        ujBtn.BackgroundColor3 = Color3.fromRGB(200, 80, 80)
    end
end)

UserInputService.JumpRequest:Connect(function()
    if unlimitedJump and humanoid then
        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

local statusLabel = Instance.new("TextLabel")
statusLabel.Size = UDim2.new(0.9, 0, 0, 25)
statusLabel.Position = UDim2.new(0.05, 0, 0, 120)
statusLabel.BackgroundTransparency = 1
statusLabel.Text = "Status: Idle"
statusLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
statusLabel.TextSize = 14
statusLabel.Font = Enum.Font.GothamBold
statusLabel.Parent = contentFrame

local optimizeBtn = Instance.new("TextButton")
optimizeBtn.Size = UDim2.new(0.28, 0, 0, 30)
optimizeBtn.Position = UDim2.new(0.05, 0, 0, 150)
optimizeBtn.Text = "Optimize"
optimizeBtn.BackgroundColor3 = Color3.fromRGB(80, 150, 250)
optimizeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
optimizeBtn.TextSize = 14
optimizeBtn.Font = Enum.Font.GothamBold
optimizeBtn.Parent = contentFrame
Instance.new("UICorner", optimizeBtn).CornerRadius = UDim.new(0, 8)

local resetBtn = Instance.new("TextButton")
resetBtn.Size = UDim2.new(0.28, 0, 0, 30)
resetBtn.Position = UDim2.new(0.36, 0, 0, 150)
resetBtn.Text = "Reset"
resetBtn.BackgroundColor3 = Color3.fromRGB(250, 150, 80)
resetBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
resetBtn.TextSize = 14
resetBtn.Font = Enum.Font.GothamBold
resetBtn.Parent = contentFrame
Instance.new("UICorner", resetBtn).CornerRadius = UDim.new(0, 8)

local ultraBtn = Instance.new("TextButton")
ultraBtn.Size = UDim2.new(0.28, 0, 0, 30)
ultraBtn.Position = UDim2.new(0.67, 0, 0, 150)
ultraBtn.Text = "Ultra"
ultraBtn.BackgroundColor3 = Color3.fromRGB(200, 80, 200)
ultraBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ultraBtn.TextSize = 14
ultraBtn.Font = Enum.Font.GothamBold
ultraBtn.Parent = contentFrame
Instance.new("UICorner", ultraBtn).CornerRadius = UDim.new(0, 8)

optimizeBtn.MouseButton1Click:Connect(function()
    statusLabel.Text = "Status: Optimized"
    statusLabel.TextColor3 = Color3.fromRGB(80, 200, 80)
end)

resetBtn.MouseButton1Click:Connect(function()
    statusLabel.Text = "Status: Reset"
    statusLabel.TextColor3 = Color3.fromRGB(250, 150, 80)
end)

ultraBtn.MouseButton1Click:Connect(function()
    statusLabel.Text = "Status: Ultra Mode"
    statusLabel.TextColor3 = Color3.fromRGB(200, 80, 200)
end)

player.CharacterAdded:Connect(function(char)
    character = char
    humanoid = char:WaitForChild("Humanoid")
    mainFrame.Position = lastPos
end)

mainFrame:GetPropertyChangedSignal("Position"):Connect(function()
    lastPos = mainFrame.Position
end)